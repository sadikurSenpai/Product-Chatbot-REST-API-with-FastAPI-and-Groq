# ğŸ¤– Product Chatbot REST API with FastAPI and Groq

This project implements a fully functional **RAG-style (Retrieval-Augmented Generation)** Chatbot REST API using **FastAPI**.
It intelligently interacts with customers â€” answering questions about product details by combining live data from the **DummyJSON Products API** with natural, human-like responses generated by **Groq LLM (LLaMA 3.1)**.

---

## âœ¨ Features

* ğŸ§© **RESTful Design** â€“ Clean, modular API structure with dedicated routers and service layers.
* âš¡ **FastAPI** â€“ High-performance Python web framework with automatic interactive documentation.
* ğŸ§  **Groq Integration** â€“ Uses Groqâ€™s low-latency LLM API (`llama-3.1-8b-instant`) for intent extraction and contextual response generation.
* ğŸ“š **RAG Logic** â€“ Combines retrieval and generation for grounded, factual answers.
* ğŸ—ï¸ **Scalable Architecture** â€“ Clear separation of concerns via `ProductService`, `NLPService`, and `ResponseService`.

---

---

## ğŸ“‚ Project Structure

```
fastapi_chatbot/
â”‚
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ main.py                 # FastAPI app instantiation & routing
â”‚   â”œâ”€â”€ config.py               # Environment variables & API configuration
â”‚   â”‚
â”‚   â”œâ”€â”€ models/                 # Pydantic models for validation
â”‚   â”‚    â”œâ”€â”€ product.py         # Product schema
â”‚   â”‚    â””â”€â”€ chat.py            # Chat request/response schema
â”‚   â”‚
â”‚   â”œâ”€â”€ services/               # Business logic layer
â”‚   â”‚    â”œâ”€â”€ product_service.py # Fetch products from DummyJSON
â”‚   â”‚    â”œâ”€â”€ nlp_service.py     # Intent understanding using Groq LLM
â”‚   â”‚    â””â”€â”€ response_service.py# Generate final responses
â”‚   â”‚
â”‚   â”œâ”€â”€ routers/                # API routes
â”‚   â”‚    â”œâ”€â”€ products.py        # /api/products
â”‚   â”‚    â””â”€â”€ chat.py            # /api/chat
â”‚   â”‚
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ .env                        # Environment configuration
â””â”€â”€ README.md                   # Project documentation
```

---

## ğŸ” RAG Workflow

1. **Intent Extraction** â€“ The LLM identifies the user's goal (e.g., price query, rating filter) and relevant entities (like product names).
2. **Data Retrieval** â€“ Product facts are fetched from the DummyJSON API.
3. **Response Generation** â€“ Facts + user query â†’ fed into Groq LLM â†’ natural human-like response.

---

## ğŸš€ Getting Started

Follow these steps to set up and run the project locally.

### ğŸ§¾ Prerequisites

* Python **3.10+**
* Groq API Key (from [Groq Console](https://console.groq.com))
* Dependencies: `httpx`, `uvicorn`, `python-dotenv`

---

### 1ï¸âƒ£ Clone the Repository

```bash
git clone <repository_url>
cd fastapi_chatbot
```

### 2ï¸âƒ£ Setup Virtual Environment and Install Dependencies

```bash
# Create and activate virtual environment
python -m venv venv
source venv/bin/activate        # macOS/Linux
venv\Scripts\activate           # Windows

# Install dependencies
pip install -r requirements.txt
```

### 3ï¸âƒ£ Configure Environment Variables

Create a `.env` file in the project root and add your configuration:

```bash
# .env
DUMMYJSON_BASE_URL=https://dummyjson.com
GROQ_API_KEY=gsk_YOUR_ACTUAL_GROQ_API_KEY
GROQ_API_URL=https://api.groq.com/openai/v1
```

> âš ï¸ **Note:** Never commit `.env` or expose real API keys publicly.

---

### 4ï¸âƒ£ Run the Application

```bash
uvicorn app.main:app --reload
```

Now open your browser and visit:
ğŸ‘‰ **[http://127.0.0.1:8000](http://127.0.0.1:8000)**

---

## ğŸ” API Endpoints

Explore interactively using **Swagger UI** â†’ [http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs)

| Method   | Endpoint         | Description                                            |
| -------- | ---------------- | ------------------------------------------------------ |
| **GET**  | `/api/products/` | Fetch all available products from DummyJSON            |
| **POST** | `/api/chat/`     | Accept a user message and return a human-like response |

---

### ğŸ’¬ Example Usage â€” Chat Endpoint

**POST** `/api/chat`

#### ğŸ“¨ Request

```json
{
  "message": "What is the price and rating of the iPhone 9?"
}
```

#### ğŸ’¡ Response

```json
{
  "response": "The iPhone 9 is priced at $549 and has an excellent customer rating of 4.69. It's currently in stock with a 1-year warranty. You can place your order now!"
}
```

---

## ğŸ§  Supported Intents

| Intent             | Example Query                     | Behavior                          |
| ------------------ | --------------------------------- | --------------------------------- |
| **Price Query**    | â€œWhatâ€™s the price of Kiwi?â€       | Returns price info                |
| **Availability**   | â€œDo you have any electronics?â€    | Lists available items             |
| **Rating Filter**  | â€œShow me products rated above 4.â€ | Filters by rating                 |
| **Review Request** | â€œTell me the reviews for iPhone.â€ | Summarizes reviews                |
| **Category Query** | â€œShow me fragrances.â€             | Returns category-specific results |

---

## ğŸ§ª Testing

Test endpoints using:

* **Swagger UI** â†’ `/docs`
* **Postman** or **cURL**

Example:

```bash
curl -X POST http://127.0.0.1:8000/api/chat/ \
  -H "Content-Type: application/json" \
  -d '{"message": "Do you have any electronics?"}'
```

---

## ğŸ› ï¸ Tech Stack

| Component             | Technology                                               |
| --------------------- | -------------------------------------------------------- |
| **Backend Framework** | FastAPI                                                  |
| **AI Model**          | Groq LLaMA 3.1 (8B / 70B)                                |
| **Data Source**       | [DummyJSON Products API](https://dummyjson.com/products) |
| **HTTP Client**       | HTTPX                                                    |
| **Server**            | Uvicorn                                                  |
| **Language**          | Python 3.10+                                             |

---

## ğŸ”’ Security Notes

* Keep `.env` private (never commit API keys).
* Validate and sanitize all inputs.
* Use HTTPS and authentication in production.
* Add rate limiting for API protection.

---

## ğŸ§­ Future Improvements

* ğŸ—ƒï¸ Add caching (Redis or local TTL).
* ğŸ§© Improve intent classification using embeddings.
* ğŸ§ª Add unit tests (`pytest`, `httpx` test client).
* ğŸ›ï¸ Extend to recommendation and product comparison features.
